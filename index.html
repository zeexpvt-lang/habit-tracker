<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Monthly Habit Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background:#0f172a;
  color:#e5e7eb;
  font-family:Arial, sans-serif;
  margin:0;
  padding:12px;
}
h1{text-align:center;margin-bottom:12px}

.table-wrap{
  overflow-x:auto;
}

table{
  border-collapse:collapse;
  min-width:900px;
}

th, td{
  border:1px solid #334155;
  padding:8px;
  text-align:center;
  min-width:32px;
}

th{
  background:#1e293b;
  position:sticky;
  top:0;
}

td.habit{
  text-align:left;
  background:#020617;
  min-width:140px;
  position:sticky;
  left:0;
  z-index:1;
}

td.cell{
  cursor:pointer;
  background:#020617;
}

td.done{
  background:#22c55e;
  color:black;
  font-weight:bold;
}

.add-box{
  display:flex;
  gap:8px;
  margin:12px 0;
}
input{
  flex:1;
  padding:8px;
  border-radius:6px;
  border:none;
}
button{
  padding:8px 12px;
  border:none;
  border-radius:6px;
  background:#38bdf8;
  font-weight:bold;
}
</style>
</head>

<body>

<h1>Monthly Habit Tracker</h1>

<div class="add-box">
  <input id="habitInput" placeholder="Add new habit">
  <button onclick="addHabit()">Add</button>
</div>

<div class="table-wrap">
<table id="tracker"></table>
</div>

<script>
const DAYS = 30;
let data = JSON.parse(localStorage.getItem("habitData")) || [];

function save(){
  localStorage.setItem("habitData", JSON.stringify(data));
}

function render(){
  const table = document.getElementById("tracker");
  table.innerHTML = "";

  let head = "<tr><th>Habit</th>";
  for(let d=1; d<=DAYS; d++) head += `<th>${d}</th>`;
  head += "</tr>";
  table.innerHTML += head;

  data.forEach((h, hi)=>{
    let row = `<tr><td class="habit">${h.name}</td>`;
    for(let d=0; d<DAYS; d++){
      let done = h.days[d] ? "done" : "";
      let mark = h.days[d] ? "âœ”" : "";
      row += `<td class="cell ${done}" onclick="toggle(${hi},${d})">${mark}</td>`;
    }
    row += "</tr>";
    table.innerHTML += row;
  });
}

function toggle(h, d){
  data[h].days[d] = !data[h].days[d];
  save();
  render();
}

function addHabit(){
  const input = document.getElementById("habitInput");
  if(!input.value.trim()) return;
  data.push({name:input.value, days:Array(DAYS).fill(false)});
  input.value="";
  save();
  render();
}

render();
</script>

</body>
</html>
